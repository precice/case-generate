<?xml version="1.0" encoding="UTF-8" ?>
<precice-configuration>
    <log>
        <sink
                filter="%Severity% > debug"
                format="---[precice] %ColorizedSeverity% %Message%"
                enabled="true"/>
    </log>

    <data:scalar name="Data"/>

    <mesh name="A-Mesh" dimensions="3">
        <use-data name="Data"/>
    </mesh>
    <mesh name="B-Mesh" dimensions="3">
        <use-data name="Data"/>
    </mesh>

    <participant name="A">
        <provide-mesh name="A-Mesh"/>
        <write-data name="Data" mesh="A-Mesh"/>
    </participant>
    <participant name="B">
        <provide-mesh name="B-Mesh"/>
        <receive-mesh name="A-Mesh" from="A"/>
        <read-data name="Data" mesh="B-Mesh"/>
        <mapping:nearest-neighbor
                direction="read"
                from="A-Mesh"
                to="B-Mesh"
                constraint="consistent"
        />
    </participant>

    <coupling-scheme:parallel-explicit>
        <participants first="A" second="B"/>
        <max-time-windows value="10"/>
        <time-window-size value="0.1"/>
        <exchange data="Data" mesh="A-Mesh" from="A" to="B"/>
    </coupling-scheme:parallel-explicit>

    <m2n:sockets acceptor="A" connector="B" directory="."/>

</precice-configuration>